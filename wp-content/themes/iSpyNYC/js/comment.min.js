"use strict";var selectedSPAN;function showCommentForm(a){selectedSPAN=a;if(selectedSPAN.className!=="add-a-comment"){return}if(selectedSPAN.nextElementSibling.style.display==="none"){selectedSPAN.nextElementSibling.style.display="block";selectedSPAN.innerHTML="Hide comments"}else{selectedSPAN.nextElementSibling.style.display="none";selectedSPAN.innerHTML="Show comments"}}document.body.onclick=function(a){var b=a.target||a.srcElement;showCommentForm(b)};jQuery(document).ready(function(b){b(function a(){b(function(){b(".comment-form").each(function(){var f=b(this),d=f.find(".submit");f.find(".required").addClass("empty_field");function c(){f.find(".required").each(function(){if(b(this).val()!=""){b(this).removeClass("empty_field")}else{b(this).addClass("empty_field")}})}function e(){f.find(".empty_field").css({"border-color":"#d8512d"});setTimeout(function(){f.find(".empty_field").removeAttr("style")},500)}setInterval(function(){c();var g=f.find(".empty_field").size();if(g>0){if(d.hasClass("disabled")){return false}else{d.addClass("disabled")}}else{d.removeClass("disabled")}},500);d.click(function(){if(b(this).hasClass("disabled")){e();return false}})})});b(function(){b("body").on("submit",".comment-form",function(i){i.preventDefault();var h=b(i.target);var d=h.parents(".comment_form");var f=b(this);var g=f.attr("action");var c=f.serializeArray();var j=h.find(".submitting-comment");f.ajaxSubmit({beforeSend:function(){f.find("p").slideUp();j.show()},success:function(m,n,p,k){var e=b("#cancel-comment-reply-link");if(e){e.click()}var l=b(m);var o=l.find(".commentlist");d.find(".commentlist").replaceWith(o);f.find("p").slideDown();j.hide()},error:function(l,m,k){if(m=="error"){var e=l.status;if(e==409){f.prepend('<div id="comment-status" >Duplicate comment detected; it looks as though you have already said that!</div>')}if(e==429){f.prepend('<div id="comment-status" style="font-size: 12px;" >You are posting comments too quickly. Slow down.</div>')}}f.find("p").slideDown();j.hide()},clearForm:true,url:g,data:c});return false})})})});